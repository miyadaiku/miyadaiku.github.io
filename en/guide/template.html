<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
  Template
</title>
  

  <!-- include boolstrap4 -->
  <link rel="stylesheet" href="../../static/bootstrap4/bootstrap.min.css">

  <!-- include jquery.js -->
  <script src="../../static/jquery/jquery.min.js"></script>

  <!-- include popper.js -->
  <script src="../../static/popper.js/popper.min.js"></script>

  <!-- include boolstrap4 js -->
  <script src="../../static/bootstrap4/bootstrap.min.js"></script>

  <!-- include pygments css -->
  <link rel="stylesheet" href="../../static/pygments/pygments_native.css">
  
  <!-- include font awesome -->
  <link rel="stylesheet" href="../../static/fontawesome/css/font-awesome.min.css">
  
  <meta property="og:url" content="https://miyadaiku.github.io/en/guide/template.html" />
<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />

<meta property="og:title" content="Template - Miyadaiku" />

<meta name="description" content="Content files in the contents directory are converted with Jinja2 template file. The templates are created in the templates directory of the project directory. Aritcle template The template applied to the article is specified by the article_template property. Default template name is"/>
<meta property="og:description" content="Content files in the contents directory are converted with Jinja2 template file. The templates are created in the templates directory of the project directory. Aritcle template The template applied to the article is specified by the article_template property. Default template name is" />



  <link rel="stylesheet" href="../../static/css/miyadaiku-docs.css">


</head>

<body>
  


<nav class="navbar fixed-top navbar navbar-expand-md bg-dark navbar-dark">

<!--<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">-->
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html">Miyadaiku</a>

  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">

      <li class="nav-item dropdown">
        
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorial</a>
        <div class="dropdown-menu">
          

          
            <a class="dropdown-item" href="../tutorial/tutorial.html">Create a site</a>
          
            <a class="dropdown-item" href="../tutorial/tutorial_blog.html">Create a blog site</a>
          
            <a class="dropdown-item" href="../tutorial/tutorial_breadcrumb.html">Implementing breadcrumbs</a>
          
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">Guide</a>
        <div class="dropdown-menu">
          

          
            <a class="dropdown-item" href="project.html">Miyadaiku project</a>
          
            <a class="dropdown-item" href="property.html">Property</a>
          
            <a class="dropdown-item" href="article.html">Article</a>
          
            <a class="dropdown-item" href="snippet.html">Snippet</a>
          
            <a class="dropdown-item" href="index.html">Index</a>
          
            <a class="dropdown-item" href="config.html">Config</a>
          
            <a class="dropdown-item" href="feed.html">Feed</a>
          
            <a class="dropdown-item" href="template.html">Template</a>
          
            <a class="dropdown-item" href="objects.html">Object reference</a>
          
            <a class="dropdown-item" href="themes.html">Themes</a>
          
            <a class="dropdown-item" href="builtin-themes.html">Built-in themes</a>
          
            <a class="dropdown-item" href="commands.html">Commands</a>
          
        </div>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../samples.html">Samples</a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="https://github.com/miyadaiku/miyadaiku"><i class="fa fa-github" aria-hidden="true"></i> GitHub</a>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">en</a>
        <div class="dropdown-menu">
          
            
          
            
              <a class="dropdown-item" href="../../ja/index.html">ja</a>
            
          
        </div>
      </li>


    </ul>
  </div>
</nav>

<div class='container'>
  <div class='row'>
    <div class='col-md-3 toc'>
      
          

          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='project.html' >Miyadaiku project</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='property.html' >Property</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='article.html' >Article</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='snippet.html' >Snippet</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='index.html' >Index</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='config.html' >Config</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='feed.html' >Feed</a></div>
                </div>
            
          
            
                <div class="current article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                    <a href='template.html' >Template</a></div>

                  <ul>
                    
                      <li class="header_h1">
                        <a href="#a_Aritcletemplate">Aritcle template</a>
                      </li>
                    
                      <li class="header_h2">
                        <a href="#a_Templatevariable">Template variable</a>
                      </li>
                    
                      <li class="header_h1">
                        <a href="#a_Indextemplate">Index template</a>
                      </li>
                    
                      <li class="header_h2">
                        <a href="#a_Templatevariables">Template variables</a>
                      </li>
                    
                      <li class="header_h1">
                        <a href="#a_Templatenameresolution">Template name resolution</a>
                      </li>
                    
                  </ul>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='objects.html' >Object reference</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='themes.html' >Themes</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='builtin-themes.html' >Built-in themes</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='commands.html' >Commands</a></div>
                </div>
            
          
      
    </div>

    <div class='col-md-9 article-body'>
      <a id='page_title' class='header_target'></a>
      <h1>
        Template
      </h1>

      <div class='article-content'>
        <p>Content files in the <span class="docutils literal">contents</span> directory are converted with Jinja2 template file. The templates are created in the <span class="docutils literal">templates</span> directory of the project directory.</p>
<div class="section" id="aritcle-template">
<div class="md_header_block" id="h_Aritcletemplate"><a class="md_header_anchor" id="a_Aritcletemplate"></a><h1>Aritcle template</h1></div>
<p>The template applied to the article is specified by the <span class="docutils literal">article_template</span> property. Default template name is <span class="docutils literal">'page_article.html'</span>.</p>
<div class="section" id="template-variable">
<div class="md_header_block" id="h_Templatevariable"><a class="md_header_anchor" id="a_Templatevariable"></a><h2>Template variable</h2></div>
<p>Within the template, you can refer to the following variables.</p>
<dl class="simple">
<dt>page</dt>
<dd><p>Refer to the <a href="objects.html#content_obj">Content object</a> of the article producing current HTML page. Most article templates get the HTML to render from the <span class="docutils literal">html</span> property of the <span class="docutils literal">page</span> variable.</p>
</dd>
<dt>contents</dt>
<dd><p>Refer to the <a href="objects.html#contents_collection">Contents collection</a> of the project.</p>
</dd>
</dl>
<div class="code-block">
<div class="code-block-caption">Sample of article template:</div>
<div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang="</span><span class="cp">{{</span> <span class="nv">page.lang</span> <span class="cp">}}</span><span class="x">"&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">  &lt;meta charset="</span><span class="cp">{{</span> <span class="nv">page.charset</span> <span class="cp">}}</span><span class="x">"&gt;</span>
<span class="x">  &lt;title&gt;</span><span class="cp">{{</span> <span class="nv">page.title</span> <span class="cp">}}</span><span class="x">/</span><span class="cp">{{</span> <span class="nv">page.site_title</span> <span class="cp">}}</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;/head&gt;</span>

<span class="x">&lt;body&gt;</span>
<span class="x">  </span><span class="cp">{{</span> <span class="nv">page.html</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="index-template">
<div class="md_header_block" id="h_Indextemplate"><a class="md_header_anchor" id="a_Indextemplate"></a><h1>Index template</h1></div>
<p>For an index that produces list of articles, the generated HTML file may be multiple pages. You can specify different templates for the first page, and the second and subsequent pages.</p>
<p>The template of the first page is specified by the <span class="docutils literal">indexpage_template</span> property. Default template name is <span class="docutils literal">'page_index.html'</span>.  The template df the second and subsequent pages are specified with the <span class="docutils literal">indexpage_template2</span> property. Default template name is <span class="docutils literal">'page_index.html'</span>.</p>
<div class="section" id="template-variables">
<div class="md_header_block" id="h_Templatevariables"><a class="md_header_anchor" id="a_Templatevariables"></a><h2>Template variables</h2></div>
<p>Within the template, you can refer to the following variables.</p>
<dl>
<dt>page</dt>
<dd><p>Refer to the <a href="objects.html#content_obj">Content object</a> of the index producing current HTML page.</p>
</dd>
<dt>contents</dt>
<dd><p>Refer to <a href="objects.html#contents_collection">Contents collection</a> of the project.</p>
</dd>
<dt>cur_page</dt>
<dd><p>Current page number.</p>
</dd>
<dt>is_last</dt>
<dd><p><span class="docutils literal">True</span> if this is last page, <span class="docutils literal">False</span> otherwise.</p>
</dd>
<dt>articles</dt>
<dd><p>List of <a href="objects.html#content_obj">Content object</a> of article to be displayed in the index page.</p>
</dd>
<dt>group_values</dt>
<dd><p>List of property values specified in <span class="docutils literal">groupby</span> property of index.</p>
<p>e.g. <span class="docutils literal">['category 1']</span></p>
</dd>
</dl>
<div class="code-block">
<div class="code-block-caption">Sample of index template:</div>
<div class="highlight"><pre><span></span><span class="x">&lt;!DOCTYPE html&gt;</span>
<span class="x">&lt;html lang="</span><span class="cp">{{</span> <span class="nv">page.lang</span> <span class="cp">}}</span><span class="x">"&gt;</span>
<span class="x">&lt;head&gt;</span>
<span class="x">  &lt;meta charset="</span><span class="cp">{{</span> <span class="nv">page.charset</span> <span class="cp">}}</span><span class="x">"&gt;</span>
<span class="x">  &lt;title&gt;</span><span class="cp">{{</span> <span class="nv">page.site_title</span> <span class="cp">}}</span><span class="x">&lt;/title&gt;</span>
<span class="x">&lt;/head&gt;</span>

<span class="x">&lt;body&gt;</span>
<span class="x">  &lt;h1&gt;</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">page.site_title</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">  &lt;/h1&gt;</span>

<span class="x">  &lt;div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span class="nv">articles</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;h2&gt;&lt;a href="</span><span class="cp">{{</span><span class="nv">article.path</span><span class="o">(</span><span class="nv">article</span><span class="o">)</span><span class="cp">}}</span><span class="x">"&gt;</span><span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;&lt;/h2&gt;</span>
<span class="x">      &lt;div&gt;</span><span class="cp">{{</span> <span class="nv">article.abstract</span> <span class="cp">}}</span><span class="x">&lt;/div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;/div&gt;</span>

<span class="x">  &lt;hr&gt;</span>
<span class="x">  &lt;div&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">cur_page</span> <span class="p">!</span><span class="o">=</span> <span class="m">1</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;a href="</span><span class="cp">{{</span><span class="nv">content.path</span><span class="o">(</span><span class="nv">values</span><span class="o">=</span><span class="nv">group_values</span><span class="o">,</span> <span class="nv">npage</span><span class="o">=</span><span class="nv">cur_page-1</span><span class="o">)</span><span class="cp">}}</span><span class="x">"&gt;Prev page&lt;/a&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">if</span> <span class="k">not</span> <span class="nv">is_last</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">      &lt;a href="</span><span class="cp">{{</span><span class="nv">content.path</span><span class="o">(</span><span class="nv">values</span><span class="o">=</span><span class="nv">group_values</span><span class="o">,</span> <span class="nv">npage</span><span class="o">=</span><span class="nv">cur_page</span><span class="o">+</span><span class="m">1</span><span class="o">)</span><span class="cp">}}</span><span class="x">"&gt;Next page&lt;/a&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;/div&gt;</span>
<span class="x">&lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="header_target" id="template_names"></div></div>
</div>
<div class="section" id="template-name-resolution">
<div class="md_header_block" id="h_Templatenameresolution"><a class="md_header_anchor" id="a_Templatenameresolution"></a><h1>Template name resolution</h1></div>
<p>Miyadaiku searches Jinja2 template in the following order.</p>
<ol class="arabic simple">
<li><p>The project's <span class="docutils literal">templates</span> directory</p></li>
<li><p>The <span class="docutils literal">templates</span> directory of the package specified as the theme. When multiple themes are specified, search is performed in the specified order.</p></li>
</ol>
<p>However, if <span class="docutils literal">!</span> is included in the template name, templates are obtained from the <span class="docutils literal">templates</span> directory of the package which the package name is the left side of <span class="docutils literal">!</span>.</p>
<p>e.g.  <span class="docutils literal">{% import 'miyadaiku.themes.sample.blog!Test.html' %}</span> imports <span class="docutils literal">templates/test.html</span> in the <span class="docutils literal">miyadaiku.themes.sample.blog</span> package.</p>
</div>
      </div>
    </div>
  </div>
</div>

<hr>
<footer>
Copyright &copy; 2017 Atsuo Ishimoto
</footer>


</body>
</html>