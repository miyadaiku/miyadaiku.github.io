<!DOCTYPE html>
<html lang="ja">
<head>
  
  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
  インデックス
</title>
  

  <!-- include boolstrap4 -->
  
<link rel="stylesheet" href="../../static/bootstrap4/bootstrap.min.css">

  <!-- include jquery.js -->
  
<script src="../../static/jquery/jquery.min.js"></script> 


  <!-- include tether.js -->
  
<script src="../../static/tether/tether.min.js"></script> 


  <!-- include boolstrap4 js -->
  
<script src="../../static/bootstrap4/bootstrap.min.js"></script> 

  <!-- include pygments css -->
  
<link rel="stylesheet" href="../../static/pygments/css/pygments.css">
  
  <!-- include font awesome -->
  
<link rel="stylesheet" href="../../static/fontawesome/css/font-awesome.min.css">
  
  <link rel="stylesheet" href="../../static/css/miyadaiku-docs.css">


</head>

<body>
  


<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html">Miyadaiku</a>

  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">チュートリアル</a>
        <div class="dropdown-menu">
          

          
            <a class="dropdown-item" href="../tutorial/tutorial.html">サイトの作成</a>
          
            <a class="dropdown-item" href="../tutorial/tutorial_blog.html">Blogサイトの作成</a>
          
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">ガイド</a>
        <div class="dropdown-menu">
          

          
            <a class="dropdown-item" href="project.html">Miyadaikuプロジェクト</a>
          
            <a class="dropdown-item" href="config.html">コンフィグ</a>
          
            <a class="dropdown-item" href="article.html">アーティクル</a>
          
            <a class="dropdown-item" href="snippet.html">スニペット</a>
          
            <a class="dropdown-item" href="index.html">インデックス</a>
          
            <a class="dropdown-item" href="feed.html">フィード</a>
          
            <a class="dropdown-item" href="template.html">テンプレート</a>
          
            <a class="dropdown-item" href="themes.html">テーマ</a>
          
        </div>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../samples.html">サンプル</a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="https://github.com/miyadaiku/miyadaiku"><i class="fa fa-github" aria-hidden="true"></i> GitHub</a>
      </li>

    </ul>
  </div>
</nav>

<div class='container'>
  <div class='row'>
    <div class='col-md-3 toc'>
      
          

          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='project.html'>Miyadaikuプロジェクト</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='config.html'>コンフィグ</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='article.html'>アーティクル</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='snippet.html'>スニペット</a></div>
                </div>
            
          
            
                <div class="current article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                    <a href='index.html'>インデックス</a></div>

                  <ul>
                    
                      <li class="header_h1">
                        <a href="#a_h_ja_guide_index.rst_1">インデックスのプロパティ</a>
                      </li>
                    
                      <li class="header_h1">
                        <a href="#a_h_ja_guide_index.rst_2">グループ別インデックス</a>
                      </li>
                    
                      <li class="header_h2">
                        <a href="#a_h_ja_guide_index.rst_3">グループ別インデックスのプロパティ</a>
                      </li>
                    
                  </ul>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='feed.html'>フィード</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='template.html'>テンプレート</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='themes.html'>テーマ</a></div>
                </div>
            
          
      
    </div>

    <div class='col-md-9 article-body'>
      <a id='page_title' class='header_anchor'></a>
      <h1>
        インデックス
      </h1>

      <div class='article-content'>
        <p>Blogサイトなどでは、新着記事ページや、記事カテゴリ別の一覧ページなどが必要となります。Miyadaikuでは、アーティクルの一覧は <strong>インデックスオブジェクト</strong> から作成します。</p>
<p>インデックスオブジェクトは <span class="docutils literal">contents</span> ディレクトリのYAMLファイルに、辞書として定義します。</p>
<div class="code-block">
<div class="code-block-caption">contents/index_ja.yml</div>
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">index</span>   <span class="c1"># YAMLファイルのタイプを index に指定</span>
<span class="l l-Scalar l-Scalar-Plain">indexpage_max_articles</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>  <span class="c1"># インデックスページにはアーティクルを10件表示</span>
<span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>      <span class="c1"># langが日本語のアーティクルの一覧を作成</span>
  <span class="l l-Scalar l-Scalar-Plain">lang</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">ja</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
<div class="section" id="id2">
<a class="header_anchor" id="h_ja_guide_index.rst_1"></a><h1>インデックスのプロパティ</h1>
<p>インデックスオブジェクトは、標準プロパティに加え、以下のプロパティを指定できます。</p>
<dl>
<dt>filters</dt>
<dd><p>表示するアーティクルの検索条件を指定します。検索する文書プロパティ名をキー、表示対象のプロパティ値のリストを値とする辞書を指定します。</p>
<p>省略時は、<span class="docutils literal">draft</span> 以外のすべてのアーティクルを表示します。</p>
<div class="code-block">
<div class="code-block-caption">'news' または 'event' カテゴリの日本語アーティクルのみを表示</div>
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">index</span>   <span class="c1"># YAMLファイルのタイプを index に指定</span>
<span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">lang</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">ja</span><span class="p p-Indicator">]</span>  <span class="c1"># langが日本語</span>
  <span class="l l-Scalar l-Scalar-Plain">category</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">news</span><span class="p p-Indicator">,</span> <span class="nv">event</span><span class="p p-Indicator">]</span>  <span class="c1"># カテゴリが news または events</span>
</pre></div>
</div>
</dd>
<dt>indexpage_filename_templ</dt>
<dd><p>インデックスの先頭ページのファイル名を、Jina2テンプレートで指定します。未指定の場合は <span class="docutils literal"><span class="pre">'{{page.stem}}.html'</span></span> となります。</p>
<blockquote>
<div class="code-block">
<div class="code-block-caption">Sample of indexpage_filename_templ</div>
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">index</span>
<span class="c1"># 先頭ページのファイル名は `ファイル名_言語.html`、2ページ目以降は `ファイル名_言語_ページ.html`</span>
<span class="l l-Scalar l-Scalar-Plain">indexpage_filename_templ</span><span class="p p-Indicator">:</span> <span class="s">'{{page.stem}}_{{page.lang}}.html'</span>
<span class="l l-Scalar l-Scalar-Plain">indexpage_filename_templ2</span><span class="p p-Indicator">:</span> <span class="s">'{{page.stem}}_{{page.lang}}_{{cur_page}}.html'</span>
</pre></div>
</div>
</blockquote>
<p>テンプレートでは、次の変数を使用できます。</p>
<dl class="simple">
<dt>cur_page</dt>
<dd><p>ページ番号を指定します。</p>
</dd>
<dt>page</dt>
<dd><p>インデックスページのアーティクルオブジェクト</p>
</dd>
</dl>
</dd>
<dt>indexpage_filename_templ2</dt>
<dd><p>インデックスの2ページ目以降のファイル名を、Jina2テンプレートで指定します。未指定の場合は、<span class="docutils literal"><span class="pre">'{{page.stem}}_{{cur_page}}.html'</span></span> となります。</p>
<p>テンプレートでは、<span class="docutils literal">indexpage_filename_templ</span> と同じ変数を使用できます。</p>
</dd>
<dt>indexpage_max_articles</dt>
<dd><p>インデックスページに表示する、1ページあたりのアーティクル数を指定します。未指定の場合は <span class="docutils literal">3</span> となります。</p>
</dd>
<dt>indexpage_max_num_pages</dt>
<dd><p>インデックスの最大ページ数を指定します。<span class="docutils literal">0</span> の場合は、すべてのページを出力します。未指定の場合は <span class="docutils literal">0</span> となります。</p>
</dd>
<dt>indexpage_template</dt>
<dd><p>インデックスの先頭ページを生成する Jinja2 テンプレート名を指定します。未指定の場合は <span class="docutils literal">page_index.html</span> となります。</p>
</dd>
<dt>indexpage_template2</dt>
<dd><p>インデックスの2ページ目以降を生成する Jinja2 テンプレート名を指定します。未指定の場合は <span class="docutils literal">page_index.html</span> となります。</p>
</dd>
<dt>indexpage_orphan</dt>
<dd><p>最終インデックスページのアーティクル数が <span class="docutils literal">indexpage_orphan</span> 以下なら、新たなページを作成せずに前のページに統合します。</p>
<p>例えばアーティクルが7件あり、<span class="docutils literal">index_max_page</span> が <span class="docutils literal">3</span> なら、3ページ目のアーティクル数は <span class="docutils literal">1</span> となります。この場合、<span class="docutils literal">indexpage_orphan</span> が <span class="docutils literal">1</span> なら、3ページ目は生成されず、2ページ目のアーティクル数が <span class="docutils literal">4</span> となります。</p>
</dd>
<dt>type</dt>
<dd><p>YAMLファイルのタイプを指定します。インデックスページの場合は <span class="docutils literal">index</span> を指定します。</p>
</dd>
</dl>
</div>
<div class="section" id="id3">
<a class="header_anchor" id="h_ja_guide_index.rst_2"></a><h1>グループ別インデックス</h1>
<p>アーティクルのカテゴリやタグなど、プロパティ別の一覧を作成する場合は、インデックスオブジェクトの <span class="docutils literal">groupby</span> 属性に対象となるプロパティの名前を指定します。</p>
<p>ex) <span class="docutils literal">contents/index_category.yml</span></p>
<div class="code-block">
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">index</span>   <span class="c1"># YAMLファイルのタイプを index に指定</span>
<span class="l l-Scalar l-Scalar-Plain">groupby</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">category</span>  <span class="c1"># カテゴリ別のインデックスを作成</span>
</pre></div>
</div>
<div class="section" id="id4">
<a class="header_anchor" id="h_ja_guide_index.rst_3"></a><h2>グループ別インデックスのプロパティ</h2>
<p>グループ別インデックスでは、通常のインデックスに加えて、次のプロパティを指定できます。</p>
<dl>
<dt>groupby</dt>
<dd><p>アーティクルを分類するプロパティの名前を指定します。e.g. <span class="docutils literal">'tags'</span>,  <span class="docutils literal">'category'</span></p>
</dd>
<dt>indexpage_group_filename_templ</dt>
<dd><p>インデックスの先頭ページのファイル名を、Jina2テンプレートで指定します。未指定の場合は <span class="docutils literal"><span class="pre">'{{page.stem}}_{{page.groupby}}_{{value}}.html'</span></span> となります。</p>
<blockquote>
<div class="code-block">
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">index</span>
<span class="l l-Scalar l-Scalar-Plain">groupby</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tags</span>  <span class="c1"># タグ別のインデックスを作成</span>

<span class="c1"># 先頭ページのファイル名は `tags_タグ名.html`、2ページ目以降は `tags_タグ名_ページ.html`</span>
<span class="l l-Scalar l-Scalar-Plain">indexpage_group_filename_templ</span><span class="p p-Indicator">:</span> <span class="s">'tags_{{value}}.html'</span>
<span class="l l-Scalar l-Scalar-Plain">indexpage_group_filename_templ2</span><span class="p p-Indicator">:</span> <span class="s">'tags_{{value}}_{{cur_page}}.html'</span>
</pre></div>
</div>
</blockquote>
<p>テンプレートでは、次の変数を使用できます。</p>
<dl class="simple">
<dt>value</dt>
<dd><p>プロパティの値を指定します。</p>
</dd>
<dt>cur_page</dt>
<dd><p>ページ番号を指定します。</p>
</dd>
<dt>page</dt>
<dd><p>インデックスページのアーティクルオブジェクト</p>
</dd>
</dl>
</dd>
<dt>indexpage_group_filename_templ2</dt>
<dd><p>インデックスの2ページ目以降のファイル名を、Jina2テンプレートで指定します。未指定の場合は <span class="docutils literal"><span class="pre">'{{page.stem}}_{{page.groupby}}_{{value}}_{{cur_page}}.html'</span></span> となります。</p>
<p>テンプレートでは、<span class="docutils literal">indexpage_group_filename_templ</span> と同じ変数を使用できます。</p>
</dd>
</dl>
</div>
</div>
      </div>
    </div>
  </div>
</div>

<hr>
<footer>
Copyright &copy; 2017 Atsuo Ishimoto
</footer>


</body>
</html>