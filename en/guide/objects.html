<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
  Object reference
</title>
  

  <!-- include boolstrap4 -->
  <link rel="stylesheet" href="../../static/bootstrap4/bootstrap.min.css">

  <!-- include jquery.js -->
  <script src="../../static/jquery/jquery.min.js"></script>

  <!-- include popper.js -->
  <script src="../../static/popper.js/popper.min.js"></script>

  <!-- include boolstrap4 js -->
  <script src="../../static/bootstrap4/bootstrap.min.js"></script>

  <!-- include pygments css -->
  <link rel="stylesheet" href="../../static/pygments/pygments_native.css">
  
  <!-- include font awesome -->
  <link rel="stylesheet" href="../../static/fontawesome/css/font-awesome.min.css">
  
  <meta property="og:url" content="https://miyadaiku.github.io/en/guide/objects.html" />
<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />

<meta property="og:title" content="Object reference - Miyadaiku" />

<meta name="description" content="Content object In Miyadaiku, the files in the contents directory and the files directory are loaded as Content object. Content object provides attributes listed Property or Property of index, and followinng methods. load(target) Load the content object specified by"/>
<meta property="og:description" content="Content object In Miyadaiku, the files in the contents directory and the files directory are loaded as Content object. Content object provides attributes listed Property or Property of index, and followinng methods. load(target) Load the content object specified by" />



  <link rel="stylesheet" href="../../static/css/miyadaiku-docs.css">


</head>

<body>
  


<nav class="navbar fixed-top navbar navbar-expand-md bg-dark navbar-dark">

<!--<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse fixed-top">-->
  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <a class="navbar-brand" href="../index.html">Miyadaiku</a>

  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">

      <li class="nav-item dropdown">
        
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorial</a>
        <div class="dropdown-menu">
          

          
            <a class="dropdown-item" href="../tutorial/tutorial.html">Create a site</a>
          
            <a class="dropdown-item" href="../tutorial/tutorial_blog.html">Create a blog site</a>
          
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">Guide</a>
        <div class="dropdown-menu">
          

          
            <a class="dropdown-item" href="project.html">Miyadaiku project</a>
          
            <a class="dropdown-item" href="property.html">Property</a>
          
            <a class="dropdown-item" href="article.html">Article</a>
          
            <a class="dropdown-item" href="snippet.html">Snippet</a>
          
            <a class="dropdown-item" href="index.html">Index</a>
          
            <a class="dropdown-item" href="config.html">Config</a>
          
            <a class="dropdown-item" href="feed.html">Feed</a>
          
            <a class="dropdown-item" href="template.html">Template</a>
          
            <a class="dropdown-item" href="objects.html">Object reference</a>
          
            <a class="dropdown-item" href="themes.html">Themes</a>
          
            <a class="dropdown-item" href="builtin-themes.html">Built-in themes</a>
          
            <a class="dropdown-item" href="commands.html">Commands</a>
          
        </div>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="../samples.html">Samples</a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="https://github.com/miyadaiku/miyadaiku"><i class="fa fa-github" aria-hidden="true"></i> GitHub</a>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" data-toggle="dropdown">en</a>
        <div class="dropdown-menu">
          
            
          
            
              <a class="dropdown-item" href="../../ja/index.html">ja</a>
            
          
        </div>
      </li>


    </ul>
  </div>
</nav>

<div class='container'>
  <div class='row'>
    <div class='col-md-3 toc'>
      
          

          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='project.html' >Miyadaiku project</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='property.html' >Property</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='article.html' >Article</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='snippet.html' >Snippet</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='index.html' >Index</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='config.html' >Config</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='feed.html' >Feed</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='template.html' >Template</a></div>
                </div>
            
          
            
                <div class="current article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                    <a href='objects.html' >Object reference</a></div>

                  <ul>
                    
                      <li class="header_h1">
                        <a href="#a_Contentobject">Content object</a>
                      </li>
                    
                      <li class="header_h1">
                        <a href="#a_Contentscollection">Contents collection</a>
                      </li>
                    
                  </ul>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='themes.html' >Themes</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='builtin-themes.html' >Built-in themes</a></div>
                </div>
            
          
            
                <div class="article-block">
                  <div class="article-title"><i class="fa fa-file-text-o"></i>            
                  <a href='commands.html' >Commands</a></div>
                </div>
            
          
      
    </div>

    <div class='col-md-9 article-body'>
      <a id='page_title' class='header_target'></a>
      <h1>
        Object reference
      </h1>

      <div class='article-content'>
        <!-- blank -->
<div class="header_target" id="content_obj"></div><div class="section" id="content-object">
<div class="md_header_block" id="h_Contentobject"><a class="md_header_anchor" id="a_Contentobject"></a><h1>Content object</h1></div>
<p>In Miyadaiku, the files in the <span class="docutils literal">contents</span> directory and the <span class="docutils literal">files</span> directory are loaded as <a href="objects.html#content_obj">Content object</a>.</p>
<p>Content object provides attributes listed <a href="property.html">Property</a> or <a href="index.html#propertyofindex">Property of index</a>, and followinng methods.</p>
<dl>
<dt>load(target)</dt>
<dd><p>Load the content object specified by <span class="docutils literal">target</span>. <span class="docutils literal">target</span> can be absolute path which starts with <span class="docutils literal">'/'</span>, or relative path.</p>
<div class="code-block">
<div class="code-block-caption">Sample of content.load() method</div>
<div class="highlight"><pre><span></span><span class="x">&lt;p&gt; Renders abstract of /page1.rst&lt;/p&gt;</span>

<span class="cp">{{</span> <span class="nv">content.load</span><span class="o">(</span><span class="s1">'/page1.rst'</span><span class="o">)</span><span class="nv">.abstract</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</dd>
<dt>path(fragment=None, abs_path=False, values=None, npage=None):</dt>
<dd><p>Get the path from the current page to the content..</p>
<p><span class="docutils literal">fragment</span> specifies the element id in the content.</p>
<p>If <span class="docutils literal">abs_path</span> is <span class="docutils literal">True</span>, it returns the complete URL starting with the protocol.</p>
<p><span class="docutils literal">values</span> specifies the value of the group on the grouped index page. It can be specified if content is the index page.</p>
<p><span class="docutils literal">npage</span> specifies the landing page number of the index page. It can be specified if content is the index page.</p>
<div class="code-block">
<div class="code-block-caption">Sample of content.path() method</div>
<div class="highlight"><pre><span></span><span class="x">&lt;a href='</span><span class="cp">{{</span> <span class="nv">content.path</span><span class="o">()</span> <span class="cp">}}</span><span class="x">'&gt;</span>
<span class="x">   Current content&lt;/a&gt;</span>
</pre></div>
</div>
</dd>
<dt>path_to(target, fragment=None, abs_path=False, values=None, npage=None):</dt>
<dd><p>Get the path to the content object specified by <span class="docutils literal">target</span>. <span class="docutils literal">target</span> can be absolute path which starts with <span class="docutils literal">'/'</span>, or relative path.</p>
<p><span class="docutils literal">fragment</span> specifies the element id in the target.</p>
<p>If <span class="docutils literal">abs_path</span> is <span class="docutils literal">True</span>, it returns the complete URL starting with the protocol.</p>
<p><span class="docutils literal">values</span> specifies the value of the group on the grouped index page. It can be specified only on the index page.</p>
<p><span class="docutils literal">npage</span> specifies the landing page number of the index page. It can be specified only on the index page.</p>
<div class="code-block">
<div class="code-block-caption">Sample of content.path_to() method</div>
<div class="highlight"><pre><span></span><span class="x">&lt;a href='</span><span class="cp">{{</span> <span class="nv">page.path_to</span><span class="o">(</span><span class="s1">'../page1.rst'</span><span class="o">)</span> <span class="cp">}}</span><span class="x">'&gt;</span>
<span class="x">   Link to the page1.html in the parent directory&lt;/a&gt;</span>
</pre></div>
</div>
</dd>
<dt>link(text=None, fragment=None, abs_path=False, attrs=None, values=None, npage=None):</dt>
<dd><p>Get the <span class="docutils literal">&lt;a&gt;</span> element to link to the content.</p>
<p><span class="docutils literal">text</span> specifies the link text in the <span class="docutils literal">&lt;a&gt;</span> element. If omitted, it is the text of the header element specified by <span class="docutils literal">fragment</span>, or the title of the object.</p>
<p><span class="docutils literal">fragment</span> specifies the element id in the content.</p>
<p>If <span class="docutils literal">abs_path</span> is <span class="docutils literal">True</span>, it returns the complete URL starting with the protocol.</p>
<p><span class="docutils literal">attrs</span> specifies the dictionary of attribute of <span class="docutils literal">&lt;a&gt;</span> elements.</p>
<p><span class="docutils literal">values</span> specifies the value of the group on the grouped index page. It can be specified only on the index page.</p>
<p><span class="docutils literal">npage</span> specifies the landing page number of the index page. It can be specified only on the index page.</p>
<div class="code-block">
<div class="code-block-caption">Sample of content.link() method</div>
<div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">content.link</span><span class="o">(</span><span class="nv">fragment</span><span class="o">=</span><span class="s2">"id_in_page"</span><span class="o">,</span>
                <span class="nv">attrs</span><span class="o">={</span><span class="s2">"class":"class_a"</span><span class="o">,</span> <span class="s2">"style":"border:solid;"</span><span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</dd>
<dt>link_to(target, text=None, fragment=None, abs_path=False, attrs=None, values=None, npage=None):</dt>
<dd><p>Get the <span class="docutils literal">&lt;a&gt;</span> element to link to the content specified by <span class="docutils literal">target</span>. <span class="docutils literal">target</span> can be absolute path which starts with <span class="docutils literal">'/'</span>, or relative path.</p>
<p><span class="docutils literal">text</span> specifies the link text in the <span class="docutils literal">&lt;a&gt;</span> element. If omitted, it is the text of the header element specified by <span class="docutils literal">fragment</span>, or the title of the object.</p>
<p><span class="docutils literal">fragment</span> specifies the element id in the target content.</p>
<p>If <span class="docutils literal">abs_path</span> is <span class="docutils literal">True</span>, it returns the complete URL starting with the protocol.</p>
<p><span class="docutils literal">attrs</span> specifies the dictionary of attribute of <span class="docutils literal">&lt;a&gt;</span> elements.</p>
<p><span class="docutils literal">values</span> specifies the value of the group on the grouped index page. It can be specified only on the index page.</p>
<p><span class="docutils literal">npage</span> specifies the landing page number of the index page. It can be specified only on the index page.</p>
<div class="code-block">
<div class="code-block-caption">Sample of content.link_to() method</div>
<div class="highlight"><pre><span></span><span class="cp">{{</span> <span class="nv">content.link_to</span><span class="o">(</span><span class="s2">"../page1.rst"</span><span class="o">,</span> <span class="nv">fragment</span><span class="o">=</span><span class="s2">"id_in_page"</span><span class="o">,</span>
                <span class="nv">attrs</span><span class="o">={</span><span class="s2">"class":"class_a"</span><span class="o">,</span> <span class="s2">"style":"border:solid;"</span><span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</dd>
</dl>
<div class="header_target" id="contents_collection"></div></div>
<div class="section" id="contents-collection">
<div class="md_header_block" id="h_Contentscollection"><a class="md_header_anchor" id="a_Contentscollection"></a><h1>Contents collection</h1></div>
<p>Content collection is the object that manages all contents in the Miyadaiku project.</p>
<dl>
<dt>get_content(key, base=None)</dt>
<dd><p>Load the content object specified by <span class="docutils literal">key</span>. <span class="docutils literal">key</span> can be absolute path which starts with <span class="docutils literal">'/'</span>, or relative path.</p>
<p>If <span class="docutils literal">key</span> is relative path,  <span class="docutils literal">base</span> should be the current content object.</p>
<div class="code-block">
<div class="code-block-caption">Sample of contents.get_content() method</div>
<div class="highlight"><pre><span></span><span class="x">Link to 'page1.rst' of the parent directory</span>

<span class="cp">{{</span> <span class="nv">contents.get_content</span><span class="o">(</span><span class="s2">"../page1.rst"</span><span class="o">,</span> <span class="nv">base</span><span class="o">=</span><span class="nv">content</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</dd>
<dt>get_contents(subdirs=None, base=None, filters=None)</dt>
<dd><p>Search <a href="objects.html#content_obj">Content object</a> from the collection on the specified condition.</p>
</dd>
</dl>
<p>   If you want to search in specific directories, specify a list of directory names in <span class="docutils literal">subdirs</span>. The directory name is specified as an absolute path starting with <span class="docutils literal">/</span> or a relative path. If specified as a relative path, <span class="docutils literal">base</span> should be the current content object.</p>
<blockquote>
<div class="code-block">
<div class="code-block-caption">Search for articles in the ./myfolder</div>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">items</span> <span class="o">=</span> <span class="nv">contents.get_contents</span><span class="o">(</span><span class="nv">subdirs</span><span class="o">=[</span><span class="s1">'./myfolder'</span><span class="o">],</span> <span class="nv">base</span><span class="o">=</span><span class="nv">content</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<p><span class="docutils literal">filters</span> specifies search criteria for content. Specify a dictionary whose key is the document property name and whose value is the list of property values to match. By default, <span class="docutils literal">get_content()</span> searches <span class="docutils literal">article</span> objects with <span class="docutils literal">draft</span> is <span class="docutils literal">false</span>.</p>
<div class="code-block">
<div class="code-block-caption">Search articles with category 'news' or 'event'</div>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">items</span> <span class="o">=</span> <span class="nv">contents.get_contents</span><span class="o">(</span><span class="nv">filters</span><span class="o">={</span><span class="s1">'type'</span><span class="o">:[</span><span class="s1">'article'</span><span class="o">],</span> <span class="s1">'draft'</span><span class="o">:</span> <span class="o">[</span><span class="kp">false</span><span class="o">],</span> <span class="s1">''</span><span class="nv">category</span><span class="s1">': ['</span><span class="nv">news</span><span class="s1">', '</span><span class="nv">event</span><span class="p">'</span><span class="o">]})</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</blockquote>
<dl>
<dt>group_items(group, subdirs=None, base=None, filters=None):</dt>
<dd><p>Search <a href="objects.html#content_obj">Content object</a> from the collection on the specified condition as <span class="docutils literal">contents.get_contents()</span>. Search results are classified by the value of the property name specified by <span class="docutils literal">group</span>.</p>
<p>Return value is list of tuple of property value and list of articles.</p>
<div class="code-block">
<div class="code-block-caption">Return value of group_items()</div>
<div class="highlight"><pre><span></span><span class="p">[([</span><span class="s1">'property value 1'</span><span class="p">],</span> <span class="p">[</span><span class="n">article1</span><span class="p">,</span> <span class="n">article2</span><span class="p">,]),</span>
 <span class="p">([</span><span class="s1">'property value 2'</span><span class="p">],</span> <span class="p">[</span><span class="n">article3</span><span class="p">,</span> <span class="n">article4</span><span class="p">,</span> <span class="n">article5</span><span class="p">]),]</span>
</pre></div>
</div>
<p>Usage of <span class="docutils literal">subdirs</span>, <span class="docutils literal">base</span>, <span class="docutils literal">filters</span> are the same as <span class="docutils literal">contents.get_contents ()</span>.</p>
<div class="code-block">
<div class="code-block-caption">Group articles in '/dir1' directory with 'tags' property</div>
<div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">items</span> <span class="o">=</span> <span class="nv">contents.group_items</span><span class="o">(</span><span class="nv">group</span><span class="o">=</span><span class="s1">'tags'</span><span class="o">,</span> <span class="nv">subdirs</span><span class="o">=[</span><span class="s1">'/dir1'</span><span class="o">])</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
</dd>
</dl>
</div>
      </div>
    </div>
  </div>
</div>

<hr>
<footer>
Copyright &copy; 2017 Atsuo Ishimoto
</footer>


</body>
</html>